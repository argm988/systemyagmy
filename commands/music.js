const e=require(process.cwd()+"/config/conf.json"),i=require(process.cwd()+"/config/messages.json"),r=require(process.cwd()+"/utils/helpers.js");let s=require(process.cwd()+"/utils/music.js");exports.run=((d,n,c)=>{if(e.commands.useMusicCommand)switch(e.commands.removeCommandMsg&&n.delete().catch(()=>r.sendError(n.channel,"Unable to continue!","Do I have the needed permissions?")),c[0]){case"play":if(e.serverSpecificSettings.find(e=>e.id===n.guild.id)&&e.serverSpecificSettings.find(e=>e.id===n.guild.id).dj.enabled&&!r.hasRoles(n.member,e.serverSpecificSettings.find(e=>e.id===n.guild.id).dj.role))return r.sendError(n.channel,i.errors.noPerm);c.shift(),s.run(n,c);break;case"stop":if(e.serverSpecificSettings.find(e=>e.id===n.guild.id)&&e.serverSpecificSettings.find(e=>e.id===n.guild.id).dj.enabled&&!r.hasRoles(n.member,e.serverSpecificSettings.find(e=>e.id===n.guild.id).dj.role))return r.sendError(n.channel,i.errors.noPerm);s.stop(n);break;case"pause":if(e.serverSpecificSettings.find(e=>e.id===n.guild.id)&&e.serverSpecificSettings.find(e=>e.id===n.guild.id).dj.enabled&&!r.hasRoles(n.member,e.serverSpecificSettings.find(e=>e.id===n.guild.id).dj.role))return r.sendError(n.channel,i.errors.noPerm);s.pause(n);break;case"resume":if(e.serverSpecificSettings.find(e=>e.id===n.guild.id)&&e.serverSpecificSettings.find(e=>e.id===n.guild.id).dj.enabled&&!r.hasRoles(n.member,e.serverSpecificSettings.find(e=>e.id===n.guild.id).dj.role))return r.sendError(n.channel,i.errors.noPerm);s.resume(n);break;case"playing":s.currentPlaying(n);break;case"skip":if(e.serverSpecificSettings.find(e=>e.id===n.guild.id)&&e.serverSpecificSettings.find(e=>e.id===n.guild.id).dj.enabled&&!r.hasRoles(n.member,e.serverSpecificSettings.find(e=>e.id===n.guild.id).dj.role))return r.sendError(n.channel,i.errors.noPerm);s.skip(n);break;case"volume":if(e.serverSpecificSettings.find(e=>e.id===n.guild.id)&&e.serverSpecificSettings.find(e=>e.id===n.guild.id).dj.enabled&&!r.hasRoles(n.member,e.serverSpecificSettings.find(e=>e.id===n.guild.id).dj.role))return r.sendError(n.channel,i.errors.noPerm);s.setVolume(n,c[1]);break;case"queue":s.listQueue(n,c[1]);break;case"remove":if(e.serverSpecificSettings.find(e=>e.id===n.guild.id)&&e.serverSpecificSettings.find(e=>e.id===n.guild.id).dj.enabled&&!r.hasRoles(n.member,e.serverSpecificSettings.find(e=>e.id===n.guild.id).dj.role))return r.sendError(n.channel,i.errors.noPerm);s.remove(n,c[1]);break;case"loop":if(e.serverSpecificSettings.find(e=>e.id===n.guild.id)&&e.serverSpecificSettings.find(e=>e.id===n.guild.id).dj.enabled&&!r.hasRoles(n.member,e.serverSpecificSettings.find(e=>e.id===n.guild.id).dj.role))return r.sendError(n.channel,i.errors.noPerm);s.loop(n);break;case"lyrics":c.shift(),s.getLyrics(n,c);break;case"help":default:r.sendHelp(n)}}),module.exports.info={name:"music",aliases:e.commands.music.aliases};