const e=require("discord.js"),n=require(process.cwd()+"/config/messages.json"),t=require(process.cwd()+"/config/conf.json");function o(e,o,r,s,i,m,l,a,c){return new Promise((d,u)=>{e.send(o,{embed:{color:parseInt(t.embeds.main.embedColor,16),title:r,description:s,fields:i,image:{url:a},thumbnail:{url:l||""},timestamp:c||t.embeds.main.timestamp?new Date:null,footer:{text:m||n.embeds.main.footer,iconURL:n.embeds.main.footerIcon||""}}}).then(e=>{d(e)}).catch(e=>{u(e)})})}function r(e,o,r,s,i,m,l,a){return new Promise((a,c)=>{e.edit(o,{embed:{color:parseInt(t.embeds.main.embedColor,16),title:r,description:s,fields:i,thumbnail:{url:l||""},timestamp:n.embeds.main.timestamp?new Date:null,footer:{text:m||n.embeds.main.footer}}}).then(e=>{a(e)}).catch(e=>{c(e)})})}function s(e,o,r,s){return new Promise((i,m)=>{e.send({embed:{color:parseInt(t.embeds.error.embedColor,16),title:o||n.embeds.error.title,description:r,footer:{text:s||""},timestamp:n.embeds.error.timestamp?new Date:null}}).then(e=>{i(e)}).catch(e=>{m(e)})})}function i(e,n){try{return e.channels.cache.find(e=>e.name===n)||e.channels.cache.get(n)}catch(e){return console.log(e.message),null}}function m(e){o(e.channel,"",n.help.title,n.help.description,[{name:"Options:",value:"`play, stop, pause, resume, playing, skip, volume, queue, help`"},{name:"Usage",value:n.help.usage}],`${n.help.footer?`${n.help.footer} |`:""} Made by Blue#4501`,"","",!0)}function l(e,n){try{return e.roles.cache.some(e=>n.includes(e.name)||n.includes(e.id))}catch(e){return console.log(e.message),!1}}module.exports={sendEmbed:o,editEmbed:r,sendError:s,getChannel:i,sendHelp:m,hasRoles:l};